{"remainingRequest":"/Users/ksagar/vueproj/sample/node_modules/babel-loader/lib/index.js!/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ksagar/vueproj/sample/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ksagar/vueproj/sample/src/views/Policies/TrafficPermissions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ksagar/vueproj/sample/src/views/Policies/TrafficPermissions.vue","mtime":1589260598000},{"path":"/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/ksagar/vueproj/sample/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getSome } from '@/helpers';\nimport sortEntities from '@/mixins/EntitySorter';\nimport FrameSkeleton from '@/components/Skeletons/FrameSkeleton';\nimport Pagination from '@/components/Pagination';\nimport DataOverview from '@/components/Skeletons/DataOverview';\nimport Tabs from '@/components/Utils/Tabs';\nimport YamlView from '@/components/Skeletons/YamlView';\nimport LabelList from '@/components/Utils/LabelList';\nexport default {\n  name: 'TrafficPermissions',\n  metaInfo: {\n    title: 'Traffic Permissions'\n  },\n  components: {\n    FrameSkeleton: FrameSkeleton,\n    Pagination: Pagination,\n    DataOverview: DataOverview,\n    Tabs: Tabs,\n    YamlView: YamlView,\n    LabelList: LabelList\n  },\n  mixins: [sortEntities],\n  data: function data() {\n    return {\n      isLoading: true,\n      isEmpty: false,\n      hasError: false,\n      entityIsLoading: true,\n      entityIsEmpty: false,\n      entityHasError: false,\n      tableDataIsEmpty: false,\n      empty_state: {\n        title: 'No Data',\n        message: 'There are no Traffic Permissions present.'\n      },\n      tableData: {\n        headers: [{\n          key: 'actions',\n          hideLabel: true\n        }, {\n          label: 'Name',\n          key: 'name'\n        }, {\n          label: 'Mesh',\n          key: 'mesh'\n        }, {\n          label: 'Type',\n          key: 'type'\n        }],\n        data: []\n      },\n      tabs: [{\n        hash: '#overview',\n        title: 'Overview'\n      }, {\n        hash: '#yaml',\n        title: 'YAML'\n      }],\n      entity: null,\n      rawEntity: null,\n      firstEntity: null,\n      pageSize: this.$pageSize,\n      pageOffset: null,\n      next: null,\n      hasNext: false,\n      previous: []\n    };\n  },\n  computed: {\n    tabGroupTitle: function tabGroupTitle() {\n      var entity = this.entity;\n\n      if (entity) {\n        return \"Traffic Permission: \".concat(entity.name);\n      } else {\n        return null;\n      }\n    },\n    entityOverviewTitle: function entityOverviewTitle() {\n      var entity = this.entity;\n\n      if (entity) {\n        return \"Entity Overview for \".concat(entity.name);\n      } else {\n        return null;\n      }\n    }\n  },\n  watch: {\n    '$route': function $route(to, from) {\n      this.init();\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      this.loadData();\n    },\n    goToPreviousPage: function goToPreviousPage() {\n      this.pageOffset = this.previous.pop();\n      this.next = null;\n      this.loadData();\n    },\n    goToNextPage: function goToNextPage() {\n      this.previous.push(this.pageOffset);\n      this.pageOffset = this.next;\n      this.next = null;\n      this.loadData();\n    },\n    tableAction: function tableAction(ev) {\n      var data = ev; // reset back to the first tab\n\n      this.$store.dispatch('updateSelectedTab', this.tabs[0].hash); // set the active table row\n\n      this.$store.dispatch('updateSelectedTableRow', ev.name); // load the data into the tabs\n\n      this.getEntity(data);\n    },\n    loadData: function loadData() {\n      var _this = this;\n\n      this.isLoading = true;\n      this.isEmpty = false;\n      var mesh = this.$route.params.mesh;\n      var params = {\n        size: this.pageSize,\n        offset: this.pageOffset\n      };\n      var endpoint = mesh === 'all' ? this.$api.getAllTrafficPermissions(params) : this.$api.getAllTrafficPermissionsFromMesh(mesh);\n\n      var getTrafficPermissions = function getTrafficPermissions() {\n        return endpoint.then(function (response) {\n          if (response.items.length > 0) {\n            var items = response.items; // sort the table data by name and the mesh it's associated with\n\n            _this.sortEntities(items); // set the first item as the default for initial load\n\n\n            _this.firstEntity = items[0].name; // load the YAML entity for the first item on page load\n\n            _this.getEntity(items[0]); // set the selected table row for the first item on page load\n\n\n            _this.$store.dispatch('updateSelectedTableRow', _this.firstEntity);\n\n            _this.tableData.data = _toConsumableArray(items);\n            _this.tableDataIsEmpty = false;\n          } else {\n            _this.tableData.data = [];\n            _this.tableDataIsEmpty = true;\n\n            _this.getEntity(null);\n          }\n        }).catch(function (error) {\n          _this.hasError = true;\n          console.error(error);\n        }).finally(function () {\n          setTimeout(function () {\n            _this.isLoading = false;\n          }, process.env.VUE_APP_DATA_TIMEOUT);\n        });\n      };\n\n      getTrafficPermissions();\n    },\n    getEntity: function getEntity(entity) {\n      var _this2 = this;\n\n      this.entityIsLoading = true;\n      this.entityIsEmpty = false;\n      var mesh = this.$route.params.mesh;\n\n      if (entity && entity !== null) {\n        var entityMesh = mesh === 'all' ? entity.mesh : mesh;\n        return this.$api.getTrafficPermission(entityMesh, entity.name).then(function (response) {\n          if (response) {\n            var selected = ['type', 'name', 'mesh'];\n            _this2.entity = getSome(response, selected);\n            _this2.rawEntity = response;\n          } else {\n            _this2.entity = null;\n            _this2.entityIsEmpty = true;\n          }\n        }).catch(function (error) {\n          _this2.entityHasError = true;\n          console.error(error);\n        }).finally(function () {\n          setTimeout(function () {\n            _this2.entityIsLoading = false;\n          }, process.env.VUE_APP_DATA_TIMEOUT);\n        });\n      } else {\n        setTimeout(function () {\n          _this2.entityIsEmpty = true;\n          _this2.entityIsLoading = false;\n        }, process.env.VUE_APP_DATA_TIMEOUT);\n      }\n    }\n  }\n};",{"version":3,"sources":["TrafficPermissions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SAAA,OAAA,QAAA,WAAA;AACA,OAAA,YAAA,MAAA,uBAAA;AACA,OAAA,aAAA,MAAA,sCAAA;AACA,OAAA,UAAA,MAAA,yBAAA;AACA,OAAA,YAAA,MAAA,qCAAA;AACA,OAAA,IAAA,MAAA,yBAAA;AACA,OAAA,QAAA,MAAA,iCAAA;AACA,OAAA,SAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAFA;AAKA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA,aADA;AAEA,IAAA,UAAA,EAAA,UAFA;AAGA,IAAA,YAAA,EAAA,YAHA;AAIA,IAAA,IAAA,EAAA,IAJA;AAKA,IAAA,QAAA,EAAA,QALA;AAMA,IAAA,SAAA,EAAA;AANA,GALA;AAaA,EAAA,MAAA,EAAA,CACA,YADA,CAbA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,eAAA,EAAA,IAJA;AAKA,MAAA,aAAA,EAAA,KALA;AAMA,MAAA,cAAA,EAAA,KANA;AAOA,MAAA,gBAAA,EAAA,KAPA;AAQA,MAAA,WAAA,EAAA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,OAAA,EAAA;AAFA,OARA;AAYA,MAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,CACA;AAAA,UAAA,GAAA,EAAA,SAAA;AAAA,UAAA,SAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,GAAA,EAAA;AAAA,SAFA,EAGA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,GAAA,EAAA;AAAA,SAHA,EAIA;AAAA,UAAA,KAAA,EAAA,MAAA;AAAA,UAAA,GAAA,EAAA;AAAA,SAJA,CADA;AAOA,QAAA,IAAA,EAAA;AAPA,OAZA;AAqBA,MAAA,IAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,CArBA;AA+BA,MAAA,MAAA,EAAA,IA/BA;AAgCA,MAAA,SAAA,EAAA,IAhCA;AAiCA,MAAA,WAAA,EAAA,IAjCA;AAkCA,MAAA,QAAA,EAAA,KAAA,SAlCA;AAmCA,MAAA,UAAA,EAAA,IAnCA;AAoCA,MAAA,IAAA,EAAA,IApCA;AAqCA,MAAA,OAAA,EAAA,KArCA;AAsCA,MAAA,QAAA,EAAA;AAtCA,KAAA;AAwCA,GAzDA;AA0DA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA;;AAEA,UAAA,MAAA,EAAA;AACA,6CAAA,MAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,IAAA;AACA;AACA,KATA;AAUA,IAAA,mBAVA,iCAUA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA;;AAEA,UAAA,MAAA,EAAA;AACA,6CAAA,MAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,IAAA;AACA;AACA;AAlBA,GA1DA;AA8EA,EAAA,KAAA,EAAA;AACA,YADA,kBACA,EADA,EACA,IADA,EACA;AACA,WAAA,IAAA;AACA;AAHA,GA9EA;AAmFA,EAAA,WAnFA,yBAmFA;AACA,SAAA,IAAA;AACA,GArFA;AAsFA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,QAAA;AACA,KAHA;AAIA,IAAA,gBAJA,8BAIA;AACA,WAAA,UAAA,GAAA,KAAA,QAAA,CAAA,GAAA,EAAA;AACA,WAAA,IAAA,GAAA,IAAA;AAEA,WAAA,QAAA;AACA,KATA;AAUA,IAAA,YAVA,0BAUA;AACA,WAAA,QAAA,CAAA,IAAA,CAAA,KAAA,UAAA;AACA,WAAA,UAAA,GAAA,KAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA;AAEA,WAAA,QAAA;AACA,KAhBA;AAiBA,IAAA,WAjBA,uBAiBA,EAjBA,EAiBA;AACA,UAAA,IAAA,GAAA,EAAA,CADA,CAGA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,KAAA,IAAA,CAAA,CAAA,EAAA,IAAA,EAJA,CAMA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,wBAAA,EAAA,EAAA,CAAA,IAAA,EAPA,CASA;;AACA,WAAA,SAAA,CAAA,IAAA;AACA,KA5BA;AA6BA,IAAA,QA7BA,sBA6BA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,OAAA,GAAA,KAAA;AAEA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,QADA;AAEA,QAAA,MAAA,EAAA,KAAA;AAFA,OAAA;AAKA,UAAA,QAAA,GAAA,IAAA,KAAA,KAAA,GACA,KAAA,IAAA,CAAA,wBAAA,CAAA,MAAA,CADA,GAEA,KAAA,IAAA,CAAA,gCAAA,CAAA,IAAA,CAFA;;AAIA,UAAA,qBAAA,GAAA,SAAA,qBAAA,GAAA;AACA,eAAA,QAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,KAAA,GAAA,QAAA,CAAA,KAAA,CADA,CAGA;;AACA,YAAA,KAAA,CAAA,YAAA,CAAA,KAAA,EAJA,CAMA;;;AACA,YAAA,KAAA,CAAA,WAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAPA,CASA;;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAVA,CAYA;;;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,wBAAA,EAAA,KAAA,CAAA,WAAA;;AAEA,YAAA,KAAA,CAAA,SAAA,CAAA,IAAA,sBAAA,KAAA;AACA,YAAA,KAAA,CAAA,gBAAA,GAAA,KAAA;AACA,WAjBA,MAiBA;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,gBAAA,GAAA,IAAA;;AAEA,YAAA,KAAA,CAAA,SAAA,CAAA,IAAA;AACA;AACA,SAzBA,EA0BA,KA1BA,CA0BA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AAEA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,SA9BA,EA+BA,OA/BA,CA+BA,YAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,WAFA,EAEA,OAAA,CAAA,GAAA,CAAA,oBAFA,CAAA;AAGA,SAnCA,CAAA;AAoCA,OArCA;;AAuCA,MAAA,qBAAA;AACA,KApFA;AAqFA,IAAA,SArFA,qBAqFA,MArFA,EAqFA;AAAA;;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,aAAA,GAAA,KAAA;AAEA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;;AAEA,UAAA,MAAA,IAAA,MAAA,KAAA,IAAA,EAAA;AACA,YAAA,UAAA,GAAA,IAAA,KAAA,KAAA,GACA,MAAA,CAAA,IADA,GAEA,IAFA;AAIA,eAAA,KAAA,IAAA,CAAA,oBAAA,CAAA,UAAA,EAAA,MAAA,CAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,EAAA;AACA,gBAAA,QAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,MAAA,CAAA;AAEA,YAAA,MAAA,CAAA,MAAA,GAAA,OAAA,CAAA,QAAA,EAAA,QAAA,CAAA;AACA,YAAA,MAAA,CAAA,SAAA,GAAA,QAAA;AACA,WALA,MAKA;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,IAAA;AACA,YAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA;AACA,SAXA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,cAAA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,SAfA,EAgBA,OAhBA,CAgBA,YAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,eAAA,GAAA,KAAA;AACA,WAFA,EAEA,OAAA,CAAA,GAAA,CAAA,oBAFA,CAAA;AAGA,SApBA,CAAA;AAqBA,OA1BA,MA0BA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA,UAAA,MAAA,CAAA,eAAA,GAAA,KAAA;AACA,SAHA,EAGA,OAAA,CAAA,GAAA,CAAA,oBAHA,CAAA;AAIA;AACA;AA3HA;AAtFA,CAAA","sourcesContent":["<template>\n  <div class=\"traffic-permissions\">\n    <FrameSkeleton>\n      <DataOverview\n        :page-size=\"pageSize\"\n        :has-error=\"hasError\"\n        :is-loading=\"isLoading\"\n        :is-empty=\"isEmpty\"\n        :empty-state=\"empty_state\"\n        :display-data-table=\"true\"\n        :table-data=\"tableData\"\n        :table-data-is-empty=\"tableDataIsEmpty\"\n        table-data-function-text=\"View\"\n        table-data-row=\"name\"\n        @tableAction=\"tableAction\"\n        @reloadData=\"loadData\"\n      >\n        <template slot=\"pagination\">\n          <Pagination\n            :has-previous=\"previous.length > 0\"\n            :has-next=\"hasNext\"\n            @next=\"goToNextPage\"\n            @previous=\"goToPreviousPage\"\n          />\n        </template>\n      </DataOverview>\n      <Tabs\n        :has-error=\"hasError\"\n        :is-loading=\"isLoading\"\n        :is-empty=\"isEmpty\"\n        :tabs=\"tabs\"\n        :tab-group-title=\"tabGroupTitle\"\n        initial-tab-override=\"overview\"\n      >\n        <template slot=\"overview\">\n          <LabelList\n            :has-error=\"entityHasError\"\n            :is-loading=\"entityIsLoading\"\n            :is-empty=\"entityIsEmpty\"\n            :items=\"entity\"\n          />\n        </template>\n        <template slot=\"yaml\">\n          <YamlView\n            :title=\"entityOverviewTitle\"\n            :has-error=\"entityHasError\"\n            :is-loading=\"entityIsLoading\"\n            :is-empty=\"entityIsEmpty\"\n            :content=\"rawEntity\"\n          />\n        </template>\n      </Tabs>\n    </FrameSkeleton>\n  </div>\n</template>\n\n<script>\nimport { getSome } from '@/helpers'\nimport sortEntities from '@/mixins/EntitySorter'\nimport FrameSkeleton from '@/components/Skeletons/FrameSkeleton'\nimport Pagination from '@/components/Pagination'\nimport DataOverview from '@/components/Skeletons/DataOverview'\nimport Tabs from '@/components/Utils/Tabs'\nimport YamlView from '@/components/Skeletons/YamlView'\nimport LabelList from '@/components/Utils/LabelList'\n\nexport default {\n  name: 'TrafficPermissions',\n  metaInfo: {\n    title: 'Traffic Permissions'\n  },\n  components: {\n    FrameSkeleton,\n    Pagination,\n    DataOverview,\n    Tabs,\n    YamlView,\n    LabelList\n  },\n  mixins: [\n    sortEntities\n  ],\n  data () {\n    return {\n      isLoading: true,\n      isEmpty: false,\n      hasError: false,\n      entityIsLoading: true,\n      entityIsEmpty: false,\n      entityHasError: false,\n      tableDataIsEmpty: false,\n      empty_state: {\n        title: 'No Data',\n        message: 'There are no Traffic Permissions present.'\n      },\n      tableData: {\n        headers: [\n          { key: 'actions', hideLabel: true },\n          { label: 'Name', key: 'name' },\n          { label: 'Mesh', key: 'mesh' },\n          { label: 'Type', key: 'type' }\n        ],\n        data: []\n      },\n      tabs: [\n        {\n          hash: '#overview',\n          title: 'Overview'\n        },\n        {\n          hash: '#yaml',\n          title: 'YAML'\n        }\n      ],\n      entity: null,\n      rawEntity: null,\n      firstEntity: null,\n      pageSize: this.$pageSize,\n      pageOffset: null,\n      next: null,\n      hasNext: false,\n      previous: []\n    }\n  },\n  computed: {\n    tabGroupTitle () {\n      const entity = this.entity\n\n      if (entity) {\n        return `Traffic Permission: ${entity.name}`\n      } else {\n        return null\n      }\n    },\n    entityOverviewTitle () {\n      const entity = this.entity\n\n      if (entity) {\n        return `Entity Overview for ${entity.name}`\n      } else {\n        return null\n      }\n    }\n  },\n  watch: {\n    '$route' (to, from) {\n      this.init()\n    }\n  },\n  beforeMount () {\n    this.init()\n  },\n  methods: {\n    init () {\n      this.loadData()\n    },\n    goToPreviousPage () {\n      this.pageOffset = this.previous.pop()\n      this.next = null\n\n      this.loadData()\n    },\n    goToNextPage () {\n      this.previous.push(this.pageOffset)\n      this.pageOffset = this.next\n      this.next = null\n\n      this.loadData()\n    },\n    tableAction (ev) {\n      const data = ev\n\n      // reset back to the first tab\n      this.$store.dispatch('updateSelectedTab', this.tabs[0].hash)\n\n      // set the active table row\n      this.$store.dispatch('updateSelectedTableRow', ev.name)\n\n      // load the data into the tabs\n      this.getEntity(data)\n    },\n    loadData () {\n      this.isLoading = true\n      this.isEmpty = false\n\n      const mesh = this.$route.params.mesh\n\n      const params = {\n        size: this.pageSize,\n        offset: this.pageOffset\n      }\n\n      const endpoint = (mesh === 'all')\n        ? this.$api.getAllTrafficPermissions(params)\n        : this.$api.getAllTrafficPermissionsFromMesh(mesh)\n\n      const getTrafficPermissions = () => {\n        return endpoint\n          .then(response => {\n            if (response.items.length > 0) {\n              const items = response.items\n\n              // sort the table data by name and the mesh it's associated with\n              this.sortEntities(items)\n\n              // set the first item as the default for initial load\n              this.firstEntity = items[0].name\n\n              // load the YAML entity for the first item on page load\n              this.getEntity(items[0])\n\n              // set the selected table row for the first item on page load\n              this.$store.dispatch('updateSelectedTableRow', this.firstEntity)\n\n              this.tableData.data = [...items]\n              this.tableDataIsEmpty = false\n            } else {\n              this.tableData.data = []\n              this.tableDataIsEmpty = true\n\n              this.getEntity(null)\n            }\n          })\n          .catch(error => {\n            this.hasError = true\n\n            console.error(error)\n          })\n          .finally(() => {\n            setTimeout(() => {\n              this.isLoading = false\n            }, process.env.VUE_APP_DATA_TIMEOUT)\n          })\n      }\n\n      getTrafficPermissions()\n    },\n    getEntity (entity) {\n      this.entityIsLoading = true\n      this.entityIsEmpty = false\n\n      const mesh = this.$route.params.mesh\n\n      if (entity && entity !== null) {\n        const entityMesh = (mesh === 'all')\n          ? entity.mesh\n          : mesh\n\n        return this.$api.getTrafficPermission(entityMesh, entity.name)\n          .then(response => {\n            if (response) {\n              const selected = ['type', 'name', 'mesh']\n\n              this.entity = getSome(response, selected)\n              this.rawEntity = response\n            } else {\n              this.entity = null\n              this.entityIsEmpty = true\n            }\n          })\n          .catch(error => {\n            this.entityHasError = true\n            console.error(error)\n          })\n          .finally(() => {\n            setTimeout(() => {\n              this.entityIsLoading = false\n            }, process.env.VUE_APP_DATA_TIMEOUT)\n          })\n      } else {\n        setTimeout(() => {\n          this.entityIsEmpty = true\n          this.entityIsLoading = false\n        }, process.env.VUE_APP_DATA_TIMEOUT)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views/Policies"}]}