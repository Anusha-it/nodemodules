{"remainingRequest":"/Users/ksagar/vueproj/sample/node_modules/babel-loader/lib/index.js!/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ksagar/vueproj/sample/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ksagar/vueproj/sample/src/components/Sidebar/Sidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ksagar/vueproj/sample/src/components/Sidebar/Sidebar.vue","mtime":1589260598000},{"path":"/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/ksagar/vueproj/sample/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport KNav from '@/components/Sidebar/KNav';\nimport SidebarMenu from '@/components/Sidebar/SidebarMenu';\nimport CollapseToggle from '@/components/Sidebar/CollapseToggle';\nimport MeshSelector from '@/components/Utils/MeshSelector';\nimport { getItemFromStorage, setItemToStorage } from '@/Cache';\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  components: {\n    KNav: KNav,\n    SidebarMenu: SidebarMenu,\n    CollapseToggle: CollapseToggle,\n    MeshSelector: MeshSelector\n  },\n  data: function data() {\n    return {\n      isCollapsed: false,\n      sidebarSavedState: null,\n      toggleWorkspaces: false,\n      hovering: false\n    };\n  },\n  computed: _objectSpread(_objectSpread({\n    // ...mapState('auth', {\n    //   perms: state => state.permissions\n    // }),\n    resourceLinks: function resourceLinks() {\n      var storedVersion = this.$store.getters.getVersion;\n      var ver = storedVersion !== null ? storedVersion : 'latest';\n      return [{\n        link: \"https://kuma.io/docs/\".concat(ver, \"/\"),\n        label: 'Kuma Documentation'\n      }, {\n        link: 'https://kuma-mesh.slack.com/',\n        label: 'Kuma Community Chat'\n      }, {\n        link: 'https://github.com/Kong/kuma',\n        label: 'Kuma GitHub Repository'\n      }];\n    }\n  }, mapState('sidebar', {\n    menu: function menu(state) {\n      return state.menu;\n    }\n  })), {}, {\n    /**\n     * Main property for items in the sidebar menu. Filters out menu.js items by\n     * RBAC permissions and fetches Kong Admin Plugin routes\n     * @returns {{sections:Array<MenuItem>}}\n     */\n    menuList: function menuList() {\n      // get routes allowed by rbac\n      // const routes = this.$rbac.filterRoutes(this.perms, this.$router.allRoutes,\n      //   this.currentWorkspace && this.currentWorkspace.name)\n      // const routes = this.$router.allRoutes\n      var filteredMenu = JSON.parse(JSON.stringify(this.menu));\n      return filteredMenu;\n    },\n    lastMenuList: function lastMenuList() {\n      return Object.keys(this.menuList.sections).length - 1;\n    },\n    meshList: function meshList() {\n      return this.$store.state.meshes;\n    }\n  }),\n  mounted: function mounted() {\n    var sidebarState = getItemFromStorage('sidebarCollapsed');\n\n    if (document.documentElement.clientWidth <= 900) {\n      this.isCollapsed = true;\n    } else {\n      this.isCollapsed = sidebarState || false;\n    }\n\n    window.addEventListener('resize', this.handleResize);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  methods: _objectSpread(_objectSpread({}, mapMutations('sidebar', ['setMenu'])), {}, {\n    handleToggleCollapse: function handleToggleCollapse() {\n      this.isCollapsed = !this.isCollapsed;\n      this.setCollapsedState(this.isCollapsed);\n    },\n    isHovering: function isHovering(a) {\n      this.hovering = a;\n    },\n    setCollapsedState: function setCollapsedState(collapsedState) {\n      setItemToStorage('sidebarCollapsed', collapsedState);\n    },\n    handleResize: function handleResize() {\n      var sidebarState = getItemFromStorage('sidebarCollapsed');\n\n      if (document.documentElement.clientWidth <= 900) {\n        this.isCollapsed = sidebarState || true;\n      }\n\n      if (document.documentElement.clientWidth >= 900) {\n        this.isCollapsed = sidebarState || false;\n      }\n    }\n  })\n};",{"version":3,"sources":["Sidebar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <KNav :is-collapsed=\"isCollapsed\">\n    <div\n      slot=\"NavMenu\"\n      :class=\"{ 'is-hovering': hovering }\"\n      class=\"menu-container\"\n    >\n      <MeshSelector :items=\"meshList\" />\n      <SidebarMenu\n        v-for=\"(menu, i) in menuList.sections\"\n        :key=\"i\"\n        :menu=\"menu\"\n        :trigger-hovering=\"isHovering\"\n        :index=\"i\"\n        :is-last=\"i === lastMenuList\"\n      />\n      <div class=\"sidebar-message-wrap\">\n        <!-- <div\n          v-if=\"kumaInfo\"\n          class=\"sidebar-app-info\"\n        >\n          {{ kumaInfo }}\n        </div> -->\n        <div class=\"sidebar-message\">\n          <h4 class=\"mb-4 md sidebar-message__title\">\n            Resources\n          </h4>\n          <ul>\n            <li\n              v-for=\"(item, index) in resourceLinks\"\n              :key=\"index\"\n            >\n              <a\n                :href=\"item.link\"\n                target=\"_blank\"\n              >\n                {{ item.label }}\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <CollapseToggle\n        :handle-toggle-collapse=\"handleToggleCollapse\"\n      />\n    </div>\n  </KNav>\n</template>\n\n<script>\nimport KNav from '@/components/Sidebar/KNav'\nimport SidebarMenu from '@/components/Sidebar/SidebarMenu'\nimport CollapseToggle from '@/components/Sidebar/CollapseToggle'\nimport MeshSelector from '@/components/Utils/MeshSelector'\n\nimport { getItemFromStorage, setItemToStorage } from '@/Cache'\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  components: {\n    KNav,\n    SidebarMenu,\n    CollapseToggle,\n    MeshSelector\n  },\n\n  data () {\n    return {\n      isCollapsed: false,\n      sidebarSavedState: null,\n      toggleWorkspaces: false,\n      hovering: false\n    }\n  },\n\n  computed: {\n    // ...mapState('auth', {\n    //   perms: state => state.permissions\n    // }),\n\n    resourceLinks () {\n      const storedVersion = this.$store.getters.getVersion\n      const ver = (storedVersion !== null) ? storedVersion : 'latest'\n\n      return [\n        {\n          link: `https://kuma.io/docs/${ver}/`,\n          label: 'Kuma Documentation'\n        },\n        {\n          link: 'https://kuma-mesh.slack.com/',\n          label: 'Kuma Community Chat'\n        },\n        {\n          link: 'https://github.com/Kong/kuma',\n          label: 'Kuma GitHub Repository'\n        }\n      ]\n    },\n\n    ...mapState('sidebar', {\n      menu: state => state.menu\n    }),\n\n    /**\n     * Main property for items in the sidebar menu. Filters out menu.js items by\n     * RBAC permissions and fetches Kong Admin Plugin routes\n     * @returns {{sections:Array<MenuItem>}}\n     */\n    menuList () {\n      // get routes allowed by rbac\n      // const routes = this.$rbac.filterRoutes(this.perms, this.$router.allRoutes,\n      //   this.currentWorkspace && this.currentWorkspace.name)\n\n      // const routes = this.$router.allRoutes\n\n      const filteredMenu = JSON.parse(JSON.stringify(this.menu))\n\n      return filteredMenu\n    },\n\n    lastMenuList () {\n      return Object.keys(this.menuList.sections).length - 1\n    },\n\n    meshList () {\n      return this.$store.state.meshes\n    }\n  },\n\n  mounted () {\n    const sidebarState = getItemFromStorage('sidebarCollapsed')\n\n    if (document.documentElement.clientWidth <= 900) {\n      this.isCollapsed = true\n    } else {\n      this.isCollapsed = sidebarState || false\n    }\n\n    window.addEventListener('resize', this.handleResize)\n  },\n\n  beforeDestroy () {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  methods: {\n    ...mapMutations('sidebar', [\n      'setMenu'\n    ]),\n\n    handleToggleCollapse () {\n      this.isCollapsed = !this.isCollapsed\n      this.setCollapsedState(this.isCollapsed)\n    },\n\n    isHovering (a) {\n      this.hovering = a\n    },\n\n    setCollapsedState (collapsedState) {\n      setItemToStorage('sidebarCollapsed', collapsedState)\n    },\n\n    handleResize () {\n      const sidebarState = getItemFromStorage('sidebarCollapsed')\n\n      if (document.documentElement.clientWidth <= 900) {\n        this.isCollapsed = sidebarState || true\n      }\n\n      if (document.documentElement.clientWidth >= 900) {\n        this.isCollapsed = sidebarState || false\n      }\n    }\n  }\n}\n</script>\n\n<style lang='scss'>\n$top-nav-height: 75px;\n\n.workspace-tile {\n  padding: 24px 0;\n  border-bottom: 1px solid #e0e1e2;\n  margin: 0 1rem;\n\n  a:hover, a:focus {\n    text-decoration: none;\n  }\n}\n\n.gry-bounding {\n  display: flex;\n  position: relative;\n  align-items: center;\n  padding: 20px;\n  height: 36px;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 14px;\n  border-bottom: 1px solid #e0e1e2;\n  background-color: #f9f9f9;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  span {\n    position: absolute;\n    left: 60px;\n    white-space: nowrap;\n  }\n  .workspace-toggle {\n    border-bottom: 1px solid;\n  }\n  &:hover {\n    background: darken(#f5f6f7, 2%);\n  }\n\n  nav.closed & {\n    box-shadow: none;\n    background: none;\n    span {\n      display: none;\n    }\n  }\n}\n\nnav {\n\n  .menu-container {\n    width: 240px;\n    height: calc(100vh - 145px); // 100vh - (Header + ws picker + collapse btn)\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  &.closed {\n    .workspace-tile {\n      border-top: 1px solid #e0e1e2;\n    }\n    .gry-bounding {\n      height: auto;\n      border: none;\n      padding: 20px;\n    }\n    .menu-container {\n      width: 63px;\n      overflow: hidden;\n    }\n  }\n}\n\n.workspace-toggle,\n.sidebar-toggle {\n  @extend .gry-bounding;\n}\n\n/* Fix for IE */\n.workspace-toggle > span{\n  top: 10px\n}\n\n.sidebar-message-wrap {\n  position: fixed;\n  bottom: 36px;\n  width: 240px;\n\n  nav.closed & {\n    display: none;\n  }\n}\n\n.sidebar-app-info {\n  padding: 32px;\n  font-size: 14px;\n  line-height: 25px;\n  color: var(--tblack-45);\n}\n\n.sidebar-message {\n  background-color: #FFF5E0;\n  box-shadow: inset 0 1px 0 0 rgba(0,0,0,0.10);\n  padding: 32px;\n  font-size: 14px;\n  line-height: 25px;\n  color: rgba(0, 0, 0, .75);\n\n  p:first-of-type {\n    margin-bottom: 16px;\n  }\n\n  a {\n    color: #1782CF;\n    text-decoration: none;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n}\n\n.sidebar-message__title {\n  text-transform: uppercase;\n  border-bottom: 1px solid rgba(0,0,0,0.10);\n  padding-bottom: 6px;\n  margin-top: 0;\n}\n\n// mobile fix\n@media only screen and (max-width: 900px) {\n  .sidebar-toggle {\n    display: block !important;\n    height: auto !important;\n\n    span {\n      display: none;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/Sidebar"}]}