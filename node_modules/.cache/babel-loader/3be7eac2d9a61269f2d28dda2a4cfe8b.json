{"remainingRequest":"/Users/ksagar/vueproj/sample/node_modules/babel-loader/lib/index.js!/Users/ksagar/vueproj/sample/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/ksagar/vueproj/sample/src/router.js","dependencies":[{"path":"/Users/ksagar/vueproj/sample/src/router.js","mtime":1589636515824},{"path":"/Users/ksagar/vueproj/sample/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ksagar/vueproj/sample/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nVue.use(VueRouter);\nexport default (function (store) {\n  var routes = [{\n    path: '/404',\n    name: 'not-found',\n    alias: '*',\n    meta: {\n      title: 'Page not found',\n      excludeAsBreadcrumb: true\n    },\n    component: function component() {\n      return import('@/views/NotFound');\n    }\n  }, {\n    path: '/',\n    redirect: {\n      name: 'global-overview'\n    }\n  }, // Onboarding\n  {\n    path: '/get-started',\n    redirect: {\n      name: 'setup-welcome'\n    },\n    component: function component() {\n      return import('@/views/ShellEmpty');\n    },\n    children: [{\n      path: 'welcome',\n      name: 'setup-welcome',\n      meta: {\n        title: 'Welcome to Kuma!',\n        excludeAsBreadcrumb: true,\n        hideSidebar: true,\n        hideStatus: true,\n        simpleHeader: true,\n        simpleContent: true,\n        onboardingProcess: true\n      },\n      component: function component() {\n        return import('@/views/Onboarding/GetStarted');\n      }\n    }, {\n      path: 'complete',\n      name: 'setup-complete',\n      meta: {\n        title: 'Congratulations!',\n        excludeAsBreadcrumb: true,\n        hideSidebar: true,\n        hideStatus: true,\n        simpleHeader: true,\n        simpleContent: true,\n        onboardingProcess: true\n      },\n      component: function component() {\n        return import('@/views/Onboarding/Complete');\n      }\n    }]\n  }, {\n    // Entity Wizard\n    path: '/wizard',\n    name: 'wizard',\n    component: function component() {\n      return import('@/views/Shell');\n    },\n    children: [{\n      path: 'mesh',\n      name: 'create-mesh',\n      meta: {\n        title: 'Create a new Mesh',\n        excludeAsBreadcrumb: true\n      },\n      component: function component() {\n        return import('@/views/Wizard/views/Mesh');\n      }\n    }, {\n      path: 'kubernetes-dataplane',\n      name: 'kubernetes-dataplane',\n      meta: {\n        title: 'Create a new Kubernetes Dataplane',\n        excludeAsBreadcrumb: true\n      },\n      component: function component() {\n        return import('@/views/Wizard/views/DataplaneKubernetes');\n      }\n    }, {\n      path: 'universal-dataplane',\n      name: 'universal-dataplane',\n      meta: {\n        title: 'Create a new Universal Dataplane',\n        excludeAsBreadcrumb: true\n      },\n      component: function component() {\n        return import('@/views/Wizard/views/DataplaneUniversal');\n      }\n    }]\n  }, // App\n  // meshes\n  {\n    path: '/overview',\n    alias: '/',\n    name: 'global-overview',\n    component: function component() {\n      return import('@/views/Overview');\n    },\n    meta: {\n      title: 'Global Overview',\n      breadcrumb: 'Overview'\n    }\n  }, {\n    path: '/startpage',\n    alias: '/',\n    name: 'start-page',\n    component: function component() {\n      return import('@/views/StartPage');\n    },\n    meta: {\n      title: '',\n      breadcrumb: 'StartPage'\n    }\n  }, // all Meshes\n  {\n    path: '/meshes',\n    name: 'all-meshes',\n    meta: {\n      title: 'Meshes',\n      breadcrumb: 'Meshes',\n      parent: 'global-overview'\n    },\n    params: {\n      mesh: ':mesh'\n    },\n    component: function component() {\n      return import('@/views/Shell');\n    },\n    children: [{\n      path: ':mesh',\n      name: 'mesh-child',\n      meta: {\n        title: 'Mesh Overview',\n        parent: 'all-meshes'\n      },\n      params: {\n        mesh: ':mesh'\n      },\n      component: function component() {\n        return import('@/views/Entities/Meshes');\n      }\n    }]\n  }, {\n    path: '/:mesh',\n    name: 'mesh',\n    meta: {\n      title: 'Meshes',\n      breadcrumb: 'Meshes',\n      parent: 'global-overview'\n    },\n    params: {\n      mesh: ':mesh'\n    },\n    component: function component() {\n      return import('@/views/Shell');\n    },\n    children: [// dataplanes\n    {\n      path: 'dataplanes',\n      name: 'dataplanes',\n      meta: {\n        title: 'Dataplanes',\n        parent: 'dataplanes'\n      },\n      component: function component() {\n        return import('@/views/Entities/Dataplanes');\n      }\n    }, // traffic permissions\n    {\n      path: 'traffic-permissions',\n      name: 'traffic-permissions',\n      meta: {\n        title: 'Traffic Permissions'\n      },\n      component: function component() {\n        return import('@/views/Policies/TrafficPermissions');\n      }\n    }, // traffic routes\n    {\n      path: 'traffic-routes',\n      name: 'traffic-routes',\n      meta: {\n        title: 'Traffic Routes'\n      },\n      component: function component() {\n        return import('@/views/Policies/TrafficRoutes');\n      }\n    }, // traffic logs\n    {\n      path: 'traffic-logs',\n      name: 'traffic-logs',\n      meta: {\n        title: 'Traffic Logs'\n      },\n      component: function component() {\n        return import('@/views/Policies/TrafficLogs');\n      }\n    }, // traffic traces\n    {\n      path: 'traffic-traces',\n      name: 'traffic-traces',\n      meta: {\n        title: 'Traffic Traces'\n      },\n      component: function component() {\n        return import('@/views/Policies/TrafficTraces');\n      }\n    }, // fault injections\n    {\n      path: 'fault-injections',\n      name: 'fault-injections',\n      meta: {\n        title: 'Fault Injections'\n      },\n      component: function component() {\n        return import('@/views/Policies/FaultInjections');\n      }\n    }, // health checks\n    {\n      path: 'health-checks',\n      name: 'health-checks',\n      meta: {\n        title: 'Health Checks'\n      },\n      component: function component() {\n        return import('@/views/Policies/HealthChecks');\n      }\n    }, // proxy templates\n    {\n      path: 'proxy-templates',\n      name: 'proxy-templates',\n      meta: {\n        title: 'Proxy Templates'\n      },\n      component: function component() {\n        return import('@/views/Policies/ProxyTemplates');\n      }\n    }]\n  }];\n  var router = new VueRouter({\n    /**\n     * Defaulting to hash mode since this runs within Kuma itself\n     * and it's easier to avoid having to do advanced server config\n     * simply for hash-free URLs.\n     */\n    // mode: 'history',\n    base: process.env.BASE_URL,\n    routes: routes\n  }); // Set $router.previous on each route\n\n  router.beforeResolve(function (to, from, next) {\n    router.previous = from;\n    next();\n  });\n  /**\n   * This will make sure that the Meshes page displays all meshes\n   * if the user happens to go to the bare `/meshes` url with no\n   * query on the end of it.\n   */\n\n  router.beforeEach(function (to, from, next) {\n    if (to.name === 'all-meshes') {\n      next({\n        name: 'mesh-child',\n        params: {\n          mesh: 'all'\n        }\n      });\n    } else {\n      next();\n    }\n  });\n  /**\n   * A route guard for handling the onboarding process. If the user hasn't gone\n   * through the setup/onboarding process yet, this sends them through it. Once\n   * completed, a localStorage value is set to true so that they're not sent\n   * through it again.\n   */\n\n  router.beforeEach(function (to, from, next) {\n    var hasOnboarded = JSON.parse(localStorage.getItem('kumaOnboardingComplete') || null);\n    var currentRoute = to.meta.onboardingProcess;\n\n    if ((!hasOnboarded || hasOnboarded === false) && !currentRoute) {\n      next({\n        name: 'setup-welcome'\n      });\n    } else {\n      next();\n    }\n  });\n  /**\n   * Navigate up URL hierarchy\n   *\n   * @param {Number} levels - number of url directories to jump up e.g. if\n   *   \"/consumers/123/update\" is currentRoute, then levels = 2 would return\n   *   \"/consumers\"\n   * @param {Boolean} redirect - if true, this will perform a redirect\n   * @returns {String} returns the path of the path calculation\n   */\n\n  router.navigateUp = function () {\n    var levels = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var redirect = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var upperPath = this.currentRoute.path.split('/');\n\n    if (upperPath.length >= levels) {\n      upperPath.splice(upperPath.length - levels);\n      var path = upperPath.join('/');\n      redirect && this.push({\n        path: path\n      });\n      return path;\n    }\n  };\n\n  router.onReady(function () {\n    store.commit('SET_GLOBAL_LOADING', {\n      globalLoading: true\n    });\n    setTimeout(function () {\n      store.commit('SET_GLOBAL_LOADING', {\n        globalLoading: false\n      });\n    }, 1000);\n  });\n  return router;\n});",{"version":3,"sources":["/Users/ksagar/vueproj/sample/src/router.js"],"names":["Vue","VueRouter","use","store","routes","path","name","alias","meta","title","excludeAsBreadcrumb","component","redirect","children","hideSidebar","hideStatus","simpleHeader","simpleContent","onboardingProcess","breadcrumb","parent","params","mesh","router","base","process","env","BASE_URL","beforeResolve","to","from","next","previous","beforeEach","hasOnboarded","JSON","parse","localStorage","getItem","currentRoute","navigateUp","levels","upperPath","split","length","splice","join","push","onReady","commit","globalLoading","setTimeout"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nexport default (store) => {\n  const routes = [\n    {\n      path: '/404',\n      name: 'not-found',\n      alias: '*',\n      meta: {\n        title: 'Page not found',\n        excludeAsBreadcrumb: true\n      },\n      component: () => import('@/views/NotFound')\n    },\n    {\n      path: '/',\n      redirect: { name: 'global-overview' }\n    },\n    // Onboarding\n    {\n      path: '/get-started',\n      redirect: { name: 'setup-welcome' },\n      component: () => import('@/views/ShellEmpty'),\n      children: [\n        {\n          path: 'welcome',\n          name: 'setup-welcome',\n          meta: {\n            title: 'Welcome to Kuma!',\n            excludeAsBreadcrumb: true,\n            hideSidebar: true,\n            hideStatus: true,\n            simpleHeader: true,\n            simpleContent: true,\n            onboardingProcess: true\n          },\n          component: () => import('@/views/Onboarding/GetStarted')\n        },\n        {\n          path: 'complete',\n          name: 'setup-complete',\n          meta: {\n            title: 'Congratulations!',\n            excludeAsBreadcrumb: true,\n            hideSidebar: true,\n            hideStatus: true,\n            simpleHeader: true,\n            simpleContent: true,\n            onboardingProcess: true\n          },\n          component: () => import('@/views/Onboarding/Complete')\n        }\n      ]\n    },\n    {\n      // Entity Wizard\n      path: '/wizard',\n      name: 'wizard',\n      component: () => import('@/views/Shell'),\n      children: [\n        {\n          path: 'mesh',\n          name: 'create-mesh',\n          meta: {\n            title: 'Create a new Mesh',\n            excludeAsBreadcrumb: true\n          },\n          component: () => import('@/views/Wizard/views/Mesh')\n        },\n        {\n          path: 'kubernetes-dataplane',\n          name: 'kubernetes-dataplane',\n          meta: {\n            title: 'Create a new Kubernetes Dataplane',\n            excludeAsBreadcrumb: true\n          },\n          component: () => import('@/views/Wizard/views/DataplaneKubernetes')\n        },\n        {\n          path: 'universal-dataplane',\n          name: 'universal-dataplane',\n          meta: {\n            title: 'Create a new Universal Dataplane',\n            excludeAsBreadcrumb: true\n          },\n          component: () => import('@/views/Wizard/views/DataplaneUniversal')\n        }\n      ]\n    },\n    // App\n\n    // meshes\n    {\n      path: '/overview',\n      alias: '/',\n      name: 'global-overview',\n      component: () => import('@/views/Overview'),\n      meta: {\n        title: 'Global Overview',\n        breadcrumb: 'Overview'\n      }\n    },\n    {\n      path: '/startpage',\n      alias: '/',\n      name: 'start-page',\n      component: () => import('@/views/StartPage'),\n      meta: {\n        title: '',\n        breadcrumb: 'StartPage'\n      }\n    },\n    // all Meshes\n    {\n      path: '/meshes',\n      name: 'all-meshes',\n      meta: {\n        title: 'Meshes',\n        breadcrumb: 'Meshes',\n        parent: 'global-overview'\n      },\n      params: { mesh: ':mesh' },\n      component: () => import('@/views/Shell'),\n      children: [\n        {\n          path: ':mesh',\n          name: 'mesh-child',\n          meta: {\n            title: 'Mesh Overview',\n            parent: 'all-meshes'\n          },\n          params: { mesh: ':mesh' },\n          component: () => import('@/views/Entities/Meshes')\n        }\n      ]\n    },\n    {\n      path: '/:mesh',\n      name: 'mesh',\n      meta: {\n        title: 'Meshes',\n        breadcrumb: 'Meshes',\n        parent: 'global-overview'\n      },\n      params: { mesh: ':mesh' },\n      component: () => import('@/views/Shell'),\n      children: [\n        // dataplanes\n        {\n          path: 'dataplanes',\n          name: 'dataplanes',\n          meta: {\n            title: 'Dataplanes',\n            parent: 'dataplanes'\n          },\n          component: () => import('@/views/Entities/Dataplanes')\n        },\n        // traffic permissions\n        {\n          path: 'traffic-permissions',\n          name: 'traffic-permissions',\n          meta: {\n            title: 'Traffic Permissions'\n          },\n          component: () => import('@/views/Policies/TrafficPermissions')\n        },\n        // traffic routes\n        {\n          path: 'traffic-routes',\n          name: 'traffic-routes',\n          meta: {\n            title: 'Traffic Routes'\n          },\n          component: () => import('@/views/Policies/TrafficRoutes')\n        },\n        // traffic logs\n        {\n          path: 'traffic-logs',\n          name: 'traffic-logs',\n          meta: {\n            title: 'Traffic Logs'\n          },\n          component: () => import('@/views/Policies/TrafficLogs')\n        },\n        // traffic traces\n        {\n          path: 'traffic-traces',\n          name: 'traffic-traces',\n          meta: {\n            title: 'Traffic Traces'\n          },\n          component: () => import('@/views/Policies/TrafficTraces')\n        },\n        // fault injections\n        {\n          path: 'fault-injections',\n          name: 'fault-injections',\n          meta: {\n            title: 'Fault Injections'\n          },\n          component: () => import('@/views/Policies/FaultInjections')\n        },\n        // health checks\n        {\n          path: 'health-checks',\n          name: 'health-checks',\n          meta: {\n            title: 'Health Checks'\n          },\n          component: () => import('@/views/Policies/HealthChecks')\n        },\n        // proxy templates\n        {\n          path: 'proxy-templates',\n          name: 'proxy-templates',\n          meta: {\n            title: 'Proxy Templates'\n          },\n          component: () => import('@/views/Policies/ProxyTemplates')\n        }\n      ]\n    }\n  ]\n\n  const router = new VueRouter({\n    /**\n     * Defaulting to hash mode since this runs within Kuma itself\n     * and it's easier to avoid having to do advanced server config\n     * simply for hash-free URLs.\n     */\n    // mode: 'history',\n    base: process.env.BASE_URL,\n    routes: routes\n  })\n\n  // Set $router.previous on each route\n  router.beforeResolve((to, from, next) => {\n    router.previous = from\n    next()\n  })\n\n  /**\n   * This will make sure that the Meshes page displays all meshes\n   * if the user happens to go to the bare `/meshes` url with no\n   * query on the end of it.\n   */\n  router.beforeEach((to, from, next) => {\n    if (to.name === 'all-meshes') {\n      next({\n        name: 'mesh-child',\n        params: { mesh: 'all' }\n      })\n    } else {\n      next()\n    }\n  })\n\n  /**\n   * A route guard for handling the onboarding process. If the user hasn't gone\n   * through the setup/onboarding process yet, this sends them through it. Once\n   * completed, a localStorage value is set to true so that they're not sent\n   * through it again.\n   */\n  router.beforeEach((to, from, next) => {\n    const hasOnboarded = JSON.parse(localStorage.getItem('kumaOnboardingComplete') || null)\n    const currentRoute = to.meta.onboardingProcess\n\n    if ((!hasOnboarded || hasOnboarded === false) && !currentRoute) {\n      next({ name: 'setup-welcome' })\n    } else {\n      next()\n    }\n  })\n\n  /**\n   * Navigate up URL hierarchy\n   *\n   * @param {Number} levels - number of url directories to jump up e.g. if\n   *   \"/consumers/123/update\" is currentRoute, then levels = 2 would return\n   *   \"/consumers\"\n   * @param {Boolean} redirect - if true, this will perform a redirect\n   * @returns {String} returns the path of the path calculation\n   */\n  router.navigateUp = function (levels = 1, redirect = true) {\n    var upperPath = this.currentRoute.path.split('/')\n\n    if (upperPath.length >= levels) {\n      upperPath.splice(upperPath.length - levels)\n      const path = upperPath.join('/')\n\n      redirect && this.push({ path })\n\n      return path\n    }\n  }\n\n  router.onReady(() => {\n    store.commit('SET_GLOBAL_LOADING', { globalLoading: true })\n\n    setTimeout(() => {\n      store.commit('SET_GLOBAL_LOADING', { globalLoading: false })\n    }, 1000)\n  })\n\n  return router\n}\n"]}]}